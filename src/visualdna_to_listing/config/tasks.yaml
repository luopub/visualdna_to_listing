collect_product_info_task:
  description: |
    1. Read all contents of resource kit file "resource_kit_researched.md" to understand the current product researched context. If it cannot be read all at once, please read it repeatedly in cycles until it is fully read.
    2. Prompt the user to provide the following essential information one at a time:
       - One or more product raw photo file paths (absolute paths to actual product photos, one path at a time, empty string for end of input). Remove duplicated paths if exist.
       - Product-specific parameters that differentiate this product from competitors:
         * Size list (e.g., Small/Medium/Large dimensions)
         * Material composition (e.g., 100% cotton canvas, polyester blend)
         * Color variants available
         * Any other unique product specifications according to the resource kit
    3. Parse and analyze the provided raw photos to extract visual characteristics.
    4. Refine the resource kit:
       - Add raw photo file paths in a new "Raw Product Photos" section.
       - Add detailed product descriptions for each raw photo.
       - Remove or revise content that is conflicting with the photo or product parameters provided by the user.
       - Add detailed product parameters in the "Basic Product Facts" section
  expected_output: |
    The refined resource kit updated with all product-specific information from user input.
  agent: product_info_collector

confirm_and_save_facts_task:
  description: |
    Review the update resource kit and extract all facts that may affect the product listing. Then prompt user to confirm them one by one, and take action on user input.
       - If user confirms a fact, keep it in the resource kit. (User input empty string)
       - If user rejects a fact, remove it from the resource kit. (User input "reject" or "r", case-insensitive)
       - If user provides additional information or corrections, update the resource kit accordingly. (User input is the new fact or correction)
  expected_output: |
    The final confirmed resource kit with all facts validated by the user.
  agent: product_info_collector

define_visual_dna_task:
  description: |
    1. Parse the provided resource_kit_refined.md, specifically extracting the "Primary Mood Palette" and "Lighting Specifications".
    2. Identify "Negative Elements to Avoid" (e.g., no white backgrounds, no adult models) to differentiate from competitors.
    3. Define the core visual signature based on the data extracted in step 1.
  expected_output: >
    A Visual DNA Specification document that locks in the lighting, texture requirements, and color palette.
  agent: visual_dna_architect

plan_and_write_prompts_task:
  description: |
    1. Develop 10 detailed image generation prompts based on content of file resource_kit_refined.md and visual_dna_specification.
    2. MANDATORY DATA INTEGRATION: Each prompt must incorporate specific details from the 'Basic Product Facts' (e.g., Dual-purpose storage, double-stitching).
    3. MATERIAL FIDELITY: Every prompt must reference the physical file paths (e.g., simulate-1.png) and describe the textures found in the 'Raw Materials' section (e.g., large-gauge zipper, 300L capacity).
    4. SCENARIO ALIGNMENT: Use the 'Scenario Context' table to build the 10-image set, specifically focusing on Scenarios.
    5. ANXIETY DEBUNKING: Implement the "Composition Perspectives" (1-6) to address customer fears.
    6. The prompts must match the referenced raw photos in terms of visual characteristics. Do not add additional parts onto the raw photos.
    7. Appropriate raw photos must be selected and explicitly referenced in the prompts to ensure the generated images reflect the real outlook and qualities of the product.
  expected_output: |
    A list of 10 structured prompts. Each prompt must include: 
    - Scene Name (e.g., The Honest Hero Shot)
    - Reference Image Paths (One or more, selected from Resource Kit raw photos list)
    - Detailed description of product USPs
    - Targeted Aspect Ratio 1:1.
  agent: creative_prompt_engineer

generate_listing_images_task:
  description: |
    Execute the 10 prompts generated in the previous task. Ensure each image is named according to the Scene Name with valid filename characters and are numbered sequentially.
    Calling to image generator must match the args_schema defined for the tool, not bare string.
    Reference images must be pass to the generator call as a list of file paths.
  expected_output: >
    10 high-resolution image file names saved locally by generator.
  agent: image_production_specialist